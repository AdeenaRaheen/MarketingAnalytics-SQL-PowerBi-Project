USE master
---if Existed before then start from---
DROP DATABASE MarketingAnalyticsDB;
-- 1. Create the Database
CREATE DATABASE MarketingAnalyticsDB;
GO
USE MarketingAnalyticsDB;
GO

-- 2. Create the Customers Table
CREATE TABLE Customers (
    customer_id INT PRIMARY KEY,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    email VARCHAR(100) UNIQUE,
    join_date DATE,
    region VARCHAR(50),  -- This column has NULLs for cleaning practice
    age_group VARCHAR(10),
    segment VARCHAR(50)
);

-- 3. Create the Transactions Table
CREATE TABLE Transactions (
    transaction_id INT PRIMARY KEY,
    customer_id INT FOREIGN KEY REFERENCES Customers(customer_id),
    purchase_date DATETIME,
    amount DECIMAL(10, 2),
    product_category VARCHAR(50)
);

-- 4. Create the Marketing_Campaigns Table
CREATE TABLE Marketing_Campaigns (
    campaign_id INT PRIMARY KEY,
    transaction_id INT FOREIGN KEY REFERENCES Transactions(transaction_id),
    campaign_date DATETIME,
    channel VARCHAR(50),
    cost_per_event DECIMAL(5, 2),
    campaign_name VARCHAR(100)
);
